<HTML><HEAD>
<TITLE>Area estimation for: H:\Advanced Computer Systems Engineering\DonB\HandleC\Video\Keyboard.hcc</TITLE></HEAD>
<BODY BGCOLOR="#ffffff"><FONT FACE="Arial"><H1><FONT COLOR="#333399">&gt;: Area estimation for: H:\Advanced Computer Systems Engineering\DonB\HandleC\Video\Keyboard.hcc</FONT></H1>
<TABLE CELLSPACING = 2>
<TR><TH BG COLOR="#ff0000">LUT<TH BG COLOR="#ff0000">FF<TH BG COLOR="#ff0000">Mem</TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="1"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>1    </I><FONT COLOR="#000000"><FONT COLOR="#000000">#include "Keyboard.hch" </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="2"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>2    </I><FONT COLOR="#000000"> </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="3"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>3    </I><FONT COLOR="#000000">macro proc kbDriver(keyb) </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="4"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>4    </I><FONT COLOR="#000000">{ </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="5"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER>2</TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>5    </I><FONT COLOR="#000000">    unsigned 1 <FONT COLOR="#ff0000">dta<FONT COLOR="#000000">, <FONT COLOR="#ff0000">clk<FONT COLOR="#000000">; </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="6"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>6    </I><FONT COLOR="#000000">    interface <FONT COLOR="#000000">KBDriver (unsigned 16 data, unsigned 1 evType) </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="7"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>7    </I><FONT COLOR="#000000">        keyboard(unsigned 1 ps2Data = dta, unsigned 1 ps2Clk = clk)<FONT COLOR="#000000"> with {busformat = "B[I]"}; </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="8"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>8    </I><FONT COLOR="#000000">    interface <FONT COLOR="#000000">bus_in(unsigned 2 data) d_in()<FONT COLOR="#000000"> with {data = {"G6","H5"}}; </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="9"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>9    </I><FONT COLOR="#000000">     </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="10"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>10   </I><FONT COLOR="#000000">     </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="11"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>11   </I><FONT COLOR="#000000">    while (1) </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="12"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>12   </I><FONT COLOR="#000000">    par { </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="13"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>13   </I><FONT COLOR="#000000">        dta = d_in.data[0]; </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="14"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>14   </I><FONT COLOR="#000000">        clk = d_in.data[1]; </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="15"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>15   </I><FONT COLOR="#000000">         </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="16"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>16   </I><FONT COLOR="#000000">        keyb.key = keyboard.data; </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="17"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>17   </I><FONT COLOR="#000000">        keyb.event = keyboard.evType; </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="18"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>18   </I><FONT COLOR="#000000">         </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="19"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>19   </I><FONT COLOR="#000000">        // This is where the keys are defined for each player. </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="20">7</A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>20   </I><FONT COLOR="#000000">        <FONT COLOR="#000000">if (<FONT COLOR="#ff0000">keyboard.data == 0xE075<FONT COLOR="#000000">)      // Up </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="21"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>21   </I><FONT COLOR="#000000">            keyb.up[0] = keyboard.evType; </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="22">7</A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>22   </I><FONT COLOR="#000000">        else <FONT COLOR="#000000">if (<FONT COLOR="#ff0000">keyboard.data == 0xE072<FONT COLOR="#000000">) // Down </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="23"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>23   </I><FONT COLOR="#000000">            keyb.down[0] = keyboard.evType; </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="24">5</A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>24   </I><FONT COLOR="#000000">        else <FONT COLOR="#000000">if (<FONT COLOR="#ff0000">keyboard.data == 0xE06B<FONT COLOR="#000000">) // Left </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="25"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>25   </I><FONT COLOR="#000000">            keyb.left[0] = keyboard.evType; </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="26">5</A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>26   </I><FONT COLOR="#000000">        else <FONT COLOR="#000000">if (<FONT COLOR="#ff0000">keyboard.data == 0xE074<FONT COLOR="#000000">) // Right </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="27"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>27   </I><FONT COLOR="#000000">            keyb.right[0] = keyboard.evType; </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="28"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>28   </I><FONT COLOR="#000000">         </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="29"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>29   </I><FONT COLOR="#000000">        // P2 </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="30">6</A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>30   </I><FONT COLOR="#000000">        else <FONT COLOR="#000000">if (<FONT COLOR="#ff0000">keyboard.data == 0x001D<FONT COLOR="#000000">) // Up </A></TD></TR>
<TR><TH BG COLOR="#ff0000">LUT<TH BG COLOR="#ff0000">FF<TH BG COLOR="#ff0000">Mem</TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="31"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>31   </I><FONT COLOR="#000000">            keyb.up[1] = keyboard.evType; </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="32">4</A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>32   </I><FONT COLOR="#000000">        else <FONT COLOR="#000000">if (<FONT COLOR="#ff0000">keyboard.data == 0x001B<FONT COLOR="#000000">) // Down </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="33"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>33   </I><FONT COLOR="#000000">            keyb.down[1] = keyboard.evType; </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="34">6</A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>34   </I><FONT COLOR="#000000">        else <FONT COLOR="#000000">if (<FONT COLOR="#ff0000">keyboard.data == 0x001C<FONT COLOR="#000000">) // Left </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="35"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>35   </I><FONT COLOR="#000000">            keyb.left[1] = keyboard.evType; </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="36">4</A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>36   </I><FONT COLOR="#0000a0">        else <FONT COLOR="#0000a0">if (<FONT COLOR="#ff0000">keyboard.data == 0x0023<FONT COLOR="#000000">) // Right </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="37"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>37   </I><FONT COLOR="#000000">            keyb.right[1] = keyboard.evType; </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="38"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>38   </I><FONT COLOR="#000000">         </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="39">4</A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>39   </I><FONT COLOR="#0000a0">        else <FONT COLOR="#0000a0">if (<FONT COLOR="#ff0000">keyboard.data == 0x005A<FONT COLOR="#000000">) </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="40"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>40   </I><FONT COLOR="#ff0000">            keyb.enter = keyboard.evType<FONT COLOR="#000000">; </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="41"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>41   </I><FONT COLOR="#000000">    } </A></TD></TR>
<TR><TD BGCOLOR="#e0e0ff" ALIGN=CENTER><A NAME="42"></A></TD><TD BGCOLOR="#e0ffe0" ALIGN=CENTER></TD><TD BGCOLOR="#e0e0ff" ALIGN=CENTER></TD><TD BGCOLOR="#ffffe0"><PRE><I>42   </I><FONT COLOR="#000000">} </A></TD></TR>
</FONT></BODY></HTML>
